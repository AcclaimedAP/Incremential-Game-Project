(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}})();let n={NAME:"PlayerName",HEALTH_MAX:100,HEALTH_CURRENT:100,HEALTH_REGEN:1,DAMAGE:5,ATTACK_TIMER:0,ATTACK_COOLDOWN:220,CHARGE_TIMER:0,CHARGE_COOLDOWN:50,CRIT_CHANCE:.05,CRIT_MULTIPLIER:1.2,BLOCK_CHANCE:.05,GOLD:5,RESPAWN_TIMER:0,PRESTIGE_ENABLED:!1,PRESTIGE_LEVEL:0,PRESTIGE_EXP:0,PRESTIGE_EXP_LEVELUP:10,PRESTIGE_EXP_LEVELUP_MULTIPLIER:1.7,HIGHEST_LEVEL_REACHED:0,HIGHEST_LEVEL_PRESTIGED_AT:0,PRESTIGE_POINTS:15,prestige_upgrades:{BONUS_DAMAGE:{NAME:"Play Hard",DESCRIPTION:"Increases your damage by 25% per level",BOUGHT:0,MULTIPLIER:.25},REDUCE_BLOCK:{NAME:"Sneak around",DESCRIPTION:"Reduce the enemies chance to block by 1% per level",BOUGHT:0,MULTIPLIER:.01},LIFESTEAL:{NAME:"Bloodthirst",DESCRIPTION:"Gain life equal to 5% of damage dealt per level",BOUGHT:0,MULTIPLIER:.05},GOLD_MULTIPLIER:{NAME:"Stock Market",DESCRIPTION:"Gain 100% per level extra gold each time you kill an enemy",BOUGHT:0,MULTIPLIER:1},SMITE:{NAME:"Smite",DESCRIPTION:"Deal damage 25% per level of your attack every 600th tick",BOUGHT:0,MULTIPLIER:.25,TIMER:0},BLOCK_PENETRATION:{NAME:"Right through",DESCRIPTION:"When the enemy blocks, deal 10% per level bonus damage",BOUGHT:0,MULTIPLIER:.1}},base:{HEALTH_MAX:100,HEALTH_REGEN:1,DAMAGE:5,ATTACK_COOLDOWN:220,CRIT_CHANCE:.05,CRIT_MULTIPLIER:1.2,BLOCK_CHANCE:.05,GOLD:5},IS_PLAYABLE_CHARACTER:!0,IS_ATTACKING:!1,IS_FRONT_OF_OPPONENT:!1,IS_ALIVE:!0,IS_RESPAWNING:!1,ANIMATION_ACTIVE:!1,xPos:0,portrait:document.getElementById("playerPortrait"),image:document.getElementById("playerImage"),frameState:{idle:["assets/combatzone/player/player_idle_1.svg"],dead:"assets/combatzone/universal/gravestone.svg"},healthBar:document.getElementById("playerHealthBar"),attackTimerBar:document.getElementById("playerAttackBar"),spnCanvasHealthCurrent:document.getElementById("spnCanvasPlayerHealthCurrent"),spnCanvasHealthMax:document.getElementById("spnCanvasPlayerHealthMax"),statFrame:{spnAttack:document.getElementById("spnPlayerAttack"),spnHealthMax:document.getElementById("spnPlayerHealthMax"),spnHealthRegen:document.getElementById("spnPlayerHealthRegen"),spnAttackSpeed:document.getElementById("spnPlayerAttackSpeed"),spnCritChance:document.getElementById("spnPlayerCritChance"),spnCritMultiplier:document.getElementById("spnPlayerCritMultiplier"),spnBlockChance:document.getElementById("spnPlayerBlockChance"),spnLevel:document.getElementById("spnEnemyLevel")}},E={NAME:"Slime",HEALTH_MAX:20,HEALTH_CURRENT:20,HEALTH_REGEN:.1,DAMAGE:3,ATTACK_TIMER:0,ATTACK_COOLDOWN:310,CHARGE_TIMER:0,CHARGE_COOLDOWN:50,CRIT_CHANCE:.05,CRIT_MULTIPLIER:1.2,BLOCK_CHANCE:.05,GOLD_DROP:5,RESPAWN_TIMER:0,LEVEL:1,base:{HEALTH_MAX:20,HEALTH_REGEN:.1,DAMAGE:3,ATTACK_COOLDOWN:3100,CRIT_CHANCE:.05,CRIT_MULTIPLIER:1.2,BLOCK_CHANCE:.05,GOLD_DROP:5},multiplier:{HEALTH_MAX:1.6,HEALTH_REGEN:.001,DAMAGE:1.4,GOLD_DROP:1.5},IS_PLAYABLE_CHARACTER:!1,IS_ATTACKING:!1,IS_FRONT_OF_OPPONENT:!1,IS_ALIVE:!0,IS_RESPAWNING:!1,ANIMATION_ACTIVE:!1,xPosReversed:0,portrait:document.getElementById("enemyPortrait"),image:document.getElementById("enemyImage"),frameState:{idle:["assets/combatzone/enemy/slime_idle_1.svg"],dead:"assets/combatzone/universal/gravestone.svg"},healthBar:document.getElementById("enemyHealthBar"),attackTimerBar:document.getElementById("enemyAttackBar"),spnCanvasHealthCurrent:document.getElementById("spnCanvasEnemyHealthCurrent"),spnCanvasHealthMax:document.getElementById("spnCanvasEnemyHealthMax"),spnCanvasEnemyLevel:document.getElementById("spnCanvasEnemyLevel")},a={ATTACK:{NAME:"ATTACK",COST:0,BASE_COST:5,BASE_POWER:2,COST_MULTIPLIER:1.8,POWER_MULTIPLIER:1.5,BOUGHT:0,DOM:document.getElementById("shopBtnAttack")},HEALTH:{NAME:"HEALTH",COST:0,BASE_COST:4,BASE_POWER:5,COST_MULTIPLIER:1.4,POWER_MULTIPLIER:1.65,BOUGHT:0,DOM:document.getElementById("shopBtnHealth")},HEALTH_REGEN:{NAME:"HEALTH REGENERATION",COST:0,BASE_COST:6,BASE_POWER:.3,COST_MULTIPLIER:1.2,POWER_MULTIPLIER:1.01,BOUGHT:0,DOM:document.getElementById("shopBtnHealthRegen")},ATTACK_SPEED:{NAME:"ATTACK SPEED",COST:0,BASE_COST:30,BASE_POWER:3,COST_MULTIPLIER:2.1,POWER_MULTIPLIER:.9,BOUGHT:0,DOM:document.getElementById("shopBtnAttackSpeed")},CRIT_CHANCE:{NAME:"CRIT CHANCE",COST:0,BASE_COST:6,BASE_POWER:.005,COST_MULTIPLIER:1.5,POWER_MULTIPLIER:1.3,BOUGHT:1,DOM:document.getElementById("shopBtnCritChance")},CRIT_MULTIPLIER:{NAME:"CRIT MULTIPLIER",COST:0,BASE_COST:6,BASE_POWER:.1,COST_MULTIPLIER:1.1,POWER_MULTIPLIER:1.6,BOUGHT:0,DOM:document.getElementById("shopBtnCritMultiplier")},BLOCK_CHANCE:{NAME:"BLOCK CHANCE",COST:0,BASE_COST:6,BASE_POWER:.005,COST_MULTIPLIER:1.9,POWER_MULTIPLIER:1.2,BOUGHT:0,DOM:document.getElementById("shopBtnBlockChance")}};function Le(){localStorage.setItem("player",JSON.stringify(n)),localStorage.setItem("enemy",JSON.stringify(E)),localStorage.setItem("shop",JSON.stringify(a))}function de(){localStorage.getItem("player")!==null&&localStorage.getItem("enemy")!==null&&localStorage.getItem("shop")!==null&&(n=JSON.parse(localStorage.getItem("player")),E=JSON.parse(localStorage.getItem("enemy")),a=JSON.parse(localStorage.getItem("shop")),n.ANIMATION_ACTIVE=!1,n.HEALTH_CURRENT=n.HEALTH_MAX,n.ATTACK_TIMER=0,n.IS_ATTACKING=!1,n.IS_FRONT_OF_OPPONENT=!1,E.ANIMATION_ACTIVE=!1,E.ATTACK_TIMER=0,E.IS_FRONT_OF_OPPONENT=!1,E.IS_ATTACKING=!1,E.HEALTH_CURRENT=E.HEALTH_MAX,console.log(n,E,a))}function Ee(e,t=0){return e?(t+=1,Ee(Math.floor(e/10),t)):t}function ce(e){let t=Ee(e);const s=96;let i=0,l=e.toFixed();if(t>=4){for(;t>=4;)i+=1,t-=3;const o=1e3**i;e/=o,e>100?l=Math.round(e).toString()+String.fromCharCode(s+i):e>10?l=e.toFixed(1)+String.fromCharCode(s+i):l=e.toFixed(2)+String.fromCharCode(s+i)}return l}const V=document.querySelectorAll(".btnMenu"),m=document.querySelectorAll(".menuFrame");function Ce(e){if(e.classList.contains("hidden")){for(let t=0;t<m.length;t+=1)m[t].classList.contains("hidden")||m[t].classList.add("hidden");e.classList.remove("hidden")}}function Ie(e,t){const s=document.getElementById("textOutput");s.innerHTML+=`<${t}><br>${e}<${t}>`,s.scrollTop=s.scrollHeight}const se=document.getElementById("canvas"),_e=document.getElementById("goldCount"),ue=document.getElementById("dayNight"),f={red:183,green:255,blue:255},B={red:255,green:221,blue:138},y={red:44,green:47,blue:107};let A=0,c=183,C=255,I=255;function L(e,t,s=1){return e<t?e+=s:e>t&&(e-=s),e}function Re(){A+=.1,A>=360&&(A=0),ue.style.transform=`rotate(${A}deg)`,A>=300||A<=50?(c=L(c,f.red,.6),I=L(I,f.green,.6),C=L(C,f.blue,.6)):A<300&&A>250||A>50&&A<90?(c=L(c,B.red,.6),I=L(I,B.green,.6),C=L(C,B.blue,.6)):A>90&&A<250&&(c=L(c,y.red,.6),I=L(I,y.green,.6),C=L(C,y.blue,.6)),se.style.backgroundColor=`rgb(${c},${I},${C})`}function He(){const e=document.getElementById("degreeSpn");e.innerHTML=`${A.toFixed(1)}<br>red: ${c.toFixed(1)}<br>green: ${I.toFixed(1)}<br>blue: ${C.toFixed(1)}`}function b(){_e.innerHTML=ce(n.GOLD)}function N(e,t,s){var M;const i=Math.random()*100-50,l=Math.random()*100-50,o=-120,r=-100,T=document.createElement("span");switch(T.classList.add("displayText"),s){case"crit":T.classList.add("displayTextCrit"),T.innerHTML+=`<ruby>${e} <rp>(</rp><rt>Crit!</rt><rp>)</rp></ruby>`;break;case"gold":T.classList.add("displayTextGold"),T.innerHTML=`+${e} Gold`;break;case"block":T.classList.add("displayTextBlock"),T.innerHTML+=`<ruby>${e} <rp>(</rp><rt>Block!</rt><rp>)</rp></ruby>`;break;case"heal":T.classList.add("displayTextHeal"),T.innerHTML+=`<ruby>${e} <rp>(</rp><rt>Heal!</rt><rp>)</rp></ruby>`;break;case"skill":T.classList.add("displayTextSkill"),T.innerHTML+=`<ruby>${e} <rp>(</rp><rt>SMITE!</rt><rp>)</rp></ruby>`;break;default:T.innerHTML=e;break}const O=(M=t.image)==null?void 0:M.getBoundingClientRect();T.style.left=`${(O.left-o+i).toString()}px`,T.style.top=`${(O.top-r+l).toString()}px`,se.appendChild(T);const S=T.animate([{transform:"translateY(0px)",opacity:"1"},{transform:"translateY(-100px)",opacity:"0"}],{duration:2500,iterations:1,easing:"ease-in-out"});S.play(),S.onfinish=()=>{T.remove()}}const v=15;function d(e){let t=e.BASE_POWER+e.BOUGHT**e.POWER_MULTIPLIER;return e.NAME===a.ATTACK_SPEED.NAME&&(t=e.BASE_POWER/(1+e.BOUGHT*e.POWER_MULTIPLIER)),e.NAME===a.CRIT_CHANCE.NAME||e===a.BLOCK_CHANCE?(t=e.BASE_POWER+(e.BOUGHT/1e3)**e.POWER_MULTIPLIER,t):e===a.CRIT_MULTIPLIER?(t=e.BASE_POWER+(e.BOUGHT/30)**e.POWER_MULTIPLIER,t):t>=1?Number(t.toFixed(0)):t>=.1?Number(t.toFixed(1)):t>=.01?Number(t.toFixed(2)):Number(t.toFixed(3))}function ae(e){return Math.round(e.BASE_COST+e.BASE_COST*e.COST_MULTIPLIER*e.BOUGHT)}function le(e){const t=ae(e),s=d(e);e.BOUGHT+=1;let i=d(e);if(e.BOUGHT-=1,i-=s,e===a.BLOCK_CHANCE||e===a.CRIT_CHANCE||e===a.CRIT_MULTIPLIER){const l=`${(i*100).toFixed(2)}%`;e.DOM.innerHTML=`<p class="shopUpgradeName">${e.NAME}</p><p class="shopUpgradeCost">${t} Gold<br>+ ${l}</p>`}else e===a.ATTACK_SPEED?e.DOM.innerHTML=`<p class="shopUpgradeName">${e.NAME}</p><p class="shopUpgradeCost">${t} Gold<br>- ${i*15} ms</p>`:e.DOM.innerHTML=`<p class="shopUpgradeName">${e.NAME}</p><p class="shopUpgradeCost">${t} Gold<br>+ ${i}</p>`}function u(e){e.COST=ae(e),n.GOLD>=e.COST&&(n.GOLD-=e.COST,e.BOUGHT+=1,b(),K(),P(n),le(e))}function Oe(){let e;for(e in a)le(a[e])}function H(e,t=!1){const s=e.spnCanvasHealthCurrent,{healthBar:i}=e,l=e.HEALTH_CURRENT;if(i.value=l,s.innerHTML=Math.round(l),t){const o=e.HEALTH_MAX,r=e.spnCanvasHealthMax;r.innerHTML=Math.round(o),i.max=o,i.low=o/3,i.high=o/2,i.optimum=o*.67}}function D(e,t=!1){e.attackTimerBar.value=e.ATTACK_TIMER,t&&(e.attackTimerBar.max=e.ATTACK_COOLDOWN)}function P(e){e.statFrame!==void 0&&(e.statFrame.spnAttack.innerHTML=Math.round(e.DAMAGE).toFixed(0),e.statFrame.spnHealthMax.innerHTML=Math.round(e.HEALTH_MAX).toString(),e.statFrame.spnHealthRegen.innerHTML=e.HEALTH_REGEN.toFixed(1),e.statFrame.spnAttackSpeed.innerHTML=(v/e.ATTACK_COOLDOWN*10).toFixed(2),e.statFrame.spnCritChance.innerHTML=`${(e.CRIT_CHANCE*100).toFixed(2)}%`,e.statFrame.spnCritMultiplier.innerHTML=`${(e.CRIT_MULTIPLIER*100).toString()}%`,e.statFrame.spnBlockChance.innerHTML=`${(e.BLOCK_CHANCE*100).toFixed(2)}%`,e.statFrame.spnLevel.innerHTML=`${E.LEVEL}`)}function K(){n.DAMAGE=(n.base.DAMAGE+d(a.ATTACK))*(1+n.prestige_upgrades.BONUS_DAMAGE.BOUGHT*n.prestige_upgrades.BONUS_DAMAGE.MULTIPLIER),n.HEALTH_MAX=n.base.HEALTH_MAX+d(a.HEALTH),n.HEALTH_REGEN=n.base.HEALTH_REGEN+d(a.HEALTH_REGEN),n.CRIT_CHANCE=n.base.CRIT_CHANCE+d(a.CRIT_CHANCE),n.CRIT_MULTIPLIER=n.base.CRIT_MULTIPLIER+d(a.CRIT_MULTIPLIER),n.BLOCK_CHANCE=n.base.BLOCK_CHANCE+d(a.BLOCK_CHANCE),n.ATTACK_COOLDOWN=n.base.ATTACK_COOLDOWN-d(a.ATTACK_SPEED)}function Se(){const e=E,t=n;e.HEALTH_MAX=e.base.HEALTH_MAX+e.LEVEL*e.multiplier.HEALTH_MAX,e.DAMAGE=e.base.DAMAGE+e.LEVEL*e.multiplier.DAMAGE,e.GOLD_DROP=e.base.GOLD_DROP+e.LEVEL*e.multiplier.GOLD_DROP,e.HEALTH_REGEN=e.base.HEALTH_REGEN+e.LEVEL*e.multiplier.HEALTH_REGEN,e.BLOCK_CHANCE=e.base.BLOCK_CHANCE+e.LEVEL/1e3-t.prestige_upgrades.REDUCE_BLOCK.BOUGHT*t.prestige_upgrades.REDUCE_BLOCK.MULTIPLIER,H(E,!0)}const Me=document.getElementById("spnPoints"),ge=document.getElementById("spnLevel"),me=document.getElementById("spnCurrentExp"),pe=document.getElementById("spnMaxExp"),W=document.getElementById("btnMenuPrestige"),ie=document.getElementById("btnPrestige"),g=document.getElementById("prestigeUpgradeInfo"),Ne=document.getElementById("pSelectedPrestigeUpgradeName"),Pe=document.getElementById("pSelectedPrestigeUpgradeDescription"),fe=document.getElementById("spnSelectedPrestigeUpgradeCost"),$=document.getElementById("divBuySelectedPrestigeUpgrade"),Be=document.getElementsByClassName("btnPrestigeUpgrade");function x(){Me.innerHTML=n.PRESTIGE_POINTS.toString(),ge.innerHTML=n.PRESTIGE_LEVEL.toString(),me.innerHTML=n.PRESTIGE_EXP.toString(),pe.innerHTML=Te().toString()}function oe(e){Ne.innerHTML=String(e.NAME),Pe.innerHTML=String(e.DESCRIPTION),fe.innerHTML=(Number(e.BOUGHT)+1).toString()}function ye(e){$.innerHTML="";const t=document.createElement("button");t.innerHTML="Purchase",$.appendChild(t),t.addEventListener("click",()=>{const s=Number(e.BOUGHT)+1;n.PRESTIGE_POINTS>=s&&(n.PRESTIGE_POINTS-=s,e.BOUGHT+=1,x(),oe(e),K(),P(n))})}function Ge(){g!=null&&g.classList.contains("hidden")&&g.classList.remove("hidden");const e=this.dataset.name;let t=n.prestige_upgrades.BONUS_DAMAGE;switch(e){case"BONUS_DAMAGE":t=n.prestige_upgrades.BONUS_DAMAGE;break;case"REDUCE_BLOCK":t=n.prestige_upgrades.REDUCE_BLOCK;break;case"LIFESTEAL":t=n.prestige_upgrades.LIFESTEAL;break;case"GOLD_MULTIPLIER":t=n.prestige_upgrades.GOLD_MULTIPLIER;break;case"SMITE":t=n.prestige_upgrades.SMITE;break;case"BLOCK_PENETRATION":t=n.prestige_upgrades.BLOCK_PENETRATION;break;default:return}oe(t),ye(t)}function Ue(e){const t=document.getElementById(e).getElementsByTagName("button");for(let s=0;s<t.length;s+=1)console.log(t[s]),t[s].disabled=!1}function Te(){return n.PRESTIGE_EXP_LEVELUP+n.PRESTIGE_EXP_LEVELUP*n.PRESTIGE_LEVEL*n.PRESTIGE_EXP_LEVELUP_MULTIPLIER}function re(){const e=Te();if(n.PRESTIGE_EXP>=e){n.PRESTIGE_LEVEL+=1,n.PRESTIGE_POINTS+=1,n.PRESTIGE_EXP-=e;const t=n.PRESTIGE_LEVEL;console.log(t),console.log(t/10);const s=`tier${Math.floor(t/10).toFixed(0)}`;console.log(s),Ue(s),re()}}function De(){const e=E.LEVEL-n.HIGHEST_LEVEL_PRESTIGED_AT;let t=0;console.log(`levels climbed${e}`),e>0?(n.HIGHEST_LEVEL_PRESTIGED_AT=n.HIGHEST_LEVEL_REACHED,t=e/3+E.LEVEL/80):t=E.LEVEL/80,n.PRESTIGE_EXP+=Math.round(t)}function he(){const t=n.prestige_upgrades.SMITE;if(t.TIMER+=1,t.TIMER>=600&&E.IS_ALIVE){console.log("SMITTEN");const s=n.DAMAGE*t.BOUGHT*t.MULTIPLIER;E.HEALTH_CURRENT-=s,N(s.toFixed(0),E,"skill"),t.TIMER=0}}function p(e,t){e.IS_ALIVE&&t!=null?e.HEALTH_CURRENT+=t:!e.IS_ALIVE&&t!=null?e.HEALTH_CURRENT=t:e.HEALTH_CURRENT=e.HEALTH_MAX}function h(e){e.IS_RESPAWNING=!0,e.image.src!==e.frameState.dead&&(e.image.src=e.frameState.dead);const t=150;if(e.RESPAWN_TIMER+=1,e.RESPAWN_TIMER>=t){if(e.IS_PLAYABLE_CHARACTER===!1){E.LEVEL+=1,!W.disabled&&E.LEVEL>=30&&(n.PRESTIGE_ENABLED=!0,ie.disabled=!1,W.disabled=!1);const i=E.GOLD_DROP*(1+n.prestige_upgrades.GOLD_MULTIPLIER.BOUGHT*n.prestige_upgrades.GOLD_MULTIPLIER.MULTIPLIER);n.GOLD+=i,N(i.toString(),n,"gold"),b(),P(n),n.HIGHEST_LEVEL_REACHED<=E.LEVEL&&(n.HIGHEST_LEVEL_REACHED=E.LEVEL)}else E.LEVEL>10?E.LEVEL-=10:E.LEVEL=1,p(E);Se(),p(e);const s=E.spnCanvasEnemyLevel;s&&(s.innerHTML=E.LEVEL.toString()),e.RESPAWN_TIMER=0,e.IS_ALIVE=!0,e.IS_RESPAWNING=!1,e.ATTACK_TIMER=0,e.image.src=e.frameState.idle[0],H(e)}}function X(e){e.HEALTH_CURRENT<e.HEALTH_MAX&&(p(e,e.HEALTH_REGEN/(1e3/v)),H(e))}function be(e){Math.floor(e.HEALTH_CURRENT)<=0&&(e.IS_ALIVE=!1,h(e))}function ve(e,t){var r,T,O,S,M;let s=0;const i=Math.random();let l="normal";if(t.BLOCK_CHANCE>=i){const _=(T=(r=e.prestige_upgrades)==null?void 0:r.BLOCK_PENETRATION.BOUGHT)!=null?T:0,Ae=(S=(O=e.prestige_upgrades)==null?void 0:O.BLOCK_PENETRATION.multiplier)!=null?S:0;l="block",s=e.DAMAGE*.2*(1+_*Ae)}else{const _=Math.random();e.CRIT_CHANCE>=_?(s=e.DAMAGE*e.CRIT_MULTIPLIER,l="crit"):s=e.DAMAGE}if((M=e.prestige_upgrades)!=null&&M.LIFESTEAL.BOUGHT){const _=s*e.prestige_upgrades.LIFESTEAL.BOUGHT*e.prestige_upgrades.LIFESTEAL.MULTIPLIER;p(e,_),_>=1&&N(_.toFixed(0),e,"heal")}return[s,l]}function Ke(e,t){const s=ve(e,t);t.HEALTH_CURRENT-=s[0],e.ATTACK_TIMER=0,H(t),Ie(`${e.NAME} attacks ${t.NAME} and deals ${s[0]} damage!`),N(s[0].toFixed(0),t,s[1]),be(t)}function xe(e){e.IS_ATTACKING=!1,e.ATTACK_TIMER=0,e.CHARGE_TIMER=0}function ke(e,t){const s=document.getElementById("playerPortrait"),i=document.getElementById("enemyPortrait");let l;Ke(e,t);let o={};e.IS_PLAYABLE_CHARACTER?(l=s,o=[{left:"30%"},{left:"1%"}]):(l=i,o=[{right:"30%"},{right:"1%"}]);const r={duration:700,easing:"ease-in-out",fill:"forwards"},T=l.animate(o,r);T.play(),T.onfinish=()=>{e.IS_FRONT_OF_OPPONENT=!1,xe(e),e.ANIMATION_ACTIVE=!1}}function Fe(e,t){if(!e.IS_ATTACKING&&!e.ANIMATION_ACTIVE){const s=n.portrait,i=E.portrait;let l={},o;e.IS_PLAYABLE_CHARACTER?(o=s,l=[{left:"1%"},{left:"30%"}]):(o=i,l=[{right:"1%"},{right:"30%"}]),e.ANIMATION_ACTIVE=!0;const r={duration:700,fill:"forwards",easing:"ease-in-out",endDelay:400};e.IS_ATTACKING=!0;const T=o.animate(l,r);T.play(),T.onfinish=()=>{e.IS_FRONT_OF_OPPONENT=!0,ke(e,t)}}}function w(e,t){!e.IS_ALIVE||!t.IS_ALIVE||(e.ATTACK_TIMER+=1,D(e),e.ATTACK_TIMER>=e.ATTACK_COOLDOWN&&!e.IS_ATTACKING&&Fe(e,t))}const Ve=document.getElementById("tickCounter"),We=document.getElementById("debugButton");let Y=0;const $e=document.getElementById("btnSave"),q=document.getElementById("btnLoad");function k(){K(),P(n),H(n,!0),b(),D(n,!0),H(E,!0),D(E,!0),x(),Oe()}function Xe(){n.DAMAGE=n.base.DAMAGE,n.HEALTH_MAX=n.base.HEALTH_MAX,n.HEALTH_CURRENT=n.base.HEALTH_MAX,n.HEALTH_REGEN=n.base.HEALTH_REGEN,n.ATTACK_COOLDOWN=n.base.ATTACK_COOLDOWN,n.ATTACK_TIMER=0,n.BLOCK_CHANCE=n.base.BLOCK_CHANCE,n.CRIT_CHANCE=n.base.CRIT_CHANCE,n.CRIT_MULTIPLIER=n.base.CRIT_MULTIPLIER,n.GOLD=n.base.GOLD,E.DAMAGE=E.base.DAMAGE,E.HEALTH_MAX=E.base.HEALTH_MAX,E.HEALTH_CURRENT=E.base.HEALTH_MAX,E.HEALTH_REGEN=E.base.HEALTH_REGEN,E.ATTACK_COOLDOWN=E.base.ATTACK_COOLDOWN,E.ATTACK_TIMER=0,E.BLOCK_CHANCE=E.base.BLOCK_CHANCE,E.CRIT_CHANCE=E.base.CRIT_CHANCE,E.CRIT_MULTIPLIER=E.base.CRIT_MULTIPLIER,a.ATTACK.BOUGHT=0,a.ATTACK_SPEED.BOUGHT=0,a.BLOCK_CHANCE.BOUGHT=0,a.CRIT_CHANCE.BOUGHT=0,a.CRIT_MULTIPLIER.BOUGHT=0,a.HEALTH.BOUGHT=0,a.HEALTH_REGEN.BOUGHT=0}function F(){Y+=1,Ve.innerHTML=Y.toString(),w(n,E),w(E,n),X(n),X(E),n.prestige_upgrades.SMITE.BOUGHT>0&&he(),n.IS_RESPAWNING&&h(n),E.IS_RESPAWNING&&h(E),Re(),ze(),He(),setTimeout(F,v)}const R=document.getElementById("overlay"),G=document.getElementById("btnGameStart");function we(){var t;const e=document.getElementById("inputNameSelect");(e==null?void 0:e.value)!==""||(e==null?void 0:e.value)==null?n.NAME=(t=e==null?void 0:e.value)!=null?t:"null":n.NAME="Player",k(),R==null||R.classList.add("hidden"),F()}function Ye(){de(),k(),R==null||R.classList.add("hidden"),F()}We.addEventListener("click",()=>{console.log(n),console.log(E),console.log(a)});const qe=document.getElementById("ticksPerSecond"),Je=new Date;let J=Je.getTime(),U=0;function ze(){if(U+=1,U===100){const t=new Date().getTime(),s=1e3/((t-J)/100);qe.innerHTML=s.toFixed(2),J=t,U=0}}var z;(z=a.ATTACK.DOM)==null||z.addEventListener("click",()=>{u(a.ATTACK)});var Q;(Q=a.HEALTH.DOM)==null||Q.addEventListener("click",()=>{u(a.HEALTH)});var Z;(Z=a.HEALTH_REGEN.DOM)==null||Z.addEventListener("click",()=>{u(a.HEALTH_REGEN)});var j;(j=a.ATTACK_SPEED.DOM)==null||j.addEventListener("click",()=>{u(a.ATTACK_SPEED)});var ee;(ee=a.CRIT_CHANCE.DOM)==null||ee.addEventListener("click",()=>{u(a.CRIT_CHANCE)});var te;(te=a.CRIT_MULTIPLIER.DOM)==null||te.addEventListener("click",()=>{u(a.CRIT_MULTIPLIER)});var ne;(ne=a.BLOCK_CHANCE.DOM)==null||ne.addEventListener("click",()=>{u(a.BLOCK_CHANCE)});for(let e=0;e<V.length;e+=1)V[e].addEventListener("click",()=>{Ce(m[e])});ie.addEventListener("click",()=>{De(),re(),x(),Xe(),k()});function Qe(e){e.addEventListener("click",Ge)}Array.from(Be).forEach(Qe);$e.addEventListener("click",Le);localStorage.getItem("player")!==null&&localStorage.getItem("enemy")!==null&&localStorage.getItem("shop")!==null?q.addEventListener("click",Ye):q.disabled=!0;G==null||G.addEventListener("click",we);
